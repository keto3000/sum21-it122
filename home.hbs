{{! server-side comment Using REACT to render an unordered list of medplants in array}}


<html lang="en">
  <html>
<head>
    <title>React App Demo</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>

    <!-- Don't use this in production: -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>

<body>

<form method="POST" action="/detail">
  <input type="text" name="commonName" placeholder="commonName" required maxlength="100">
  <button>Search</button>
</form>

{{!-- root is used as element id by React --}}
<div id="root"></div>
<script type="text/babel">

// declare variables
    const medPlants = {{{ medPlants }}}
      console.log(medPlants)

// click event Handler
const showDetail = () => {
        //<a href={"/detail?commonName="+item.commonName}></a>
        console.log(event.target)
        console.log(event.target.innerText)
        console.log(event.target.id)
        window.location.href = "/detail?commonName=" + event.target.innerText;
}

/* {"_id":"610fa76387286b669046425e","commonName":"Devil's Club","__v":0,"habitat":"Moist woods","harvestTime":"Late Spring, early Summer","latinName":"Oplopanax horridus"} */

  const MedPlants = (props) => {
    const listItems = props.commonNames.map((item) =>
    <li key={item._id}  id={item._id}   onClick={props.clickHandler}>
      {item.commonName}
    </li>);

    return <ul>{listItems}</ul>
  }

ReactDOM.render(
    <div><MedPlants commonName={medPlants} clickHandler={showDetail}/></div>,
  document.getElementById('root')
);

</script>
</body>
</html>